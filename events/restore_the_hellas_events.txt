namespace = restore_the_hellas_event

restore_the_hellas_event.01 = {
	type = character_event
	title = restore_the_hellas_event.01.t
	desc = restore_the_hellas_event.01.desc
	theme = emperor
	override_background = { reference = ep3_hippodrome_track }
	left_portrait = {
		character = root
		animation = scepter
		camera = camera_event_horse_left
	}

	immediate = {
		play_sound_effect = "event:/DLC/EP3/SFX/Stingers/Byzantine_Flavor/ep3_mx_sting_byzantineflavor_hold_triumph"
	}

	option = {
		name = restore_the_hellas_event.01.a


		title:k_hellas = {
			set_title_name = "k_hellenia"
			set_title_adjective = "k_hellenia_adj"
		}
		title:d_thessalonika = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_thessaly = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_athens = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_achaia = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_aegean_islands = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_krete = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_cephalonia = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_epirus = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:d_dyrrachion = {
			set_de_jure_liege_title = title:k_hellas
		}
		title:c_ohrid = {
			set_de_jure_liege_title = title:d_thessalonika
		}
		custom_tooltip = { # re-assimilating cultures back into roman by Kitsune (Kaiser)
			text = romanization_tt
       	    if = {
		    	limit = {
					culture = { has_cultural_pillar = language_latin }
				}
				title:k_hellas = {
					every_de_jure_county = {
						random = {
							chance = 5
							modifier = {
								add = 15
								development_level >= 2
							}
							modifier = {
								add = 20
								development_level >= 3
							}
							modifier = {
								add = 20
								development_level >= 4
							}
							set_county_culture = culture:eastern_roman
						}
					}
				}
			}
		}
		hidden_effect = { #assigning cultures to rulers, needs to be after reassigning cultures
			if = {
				limit = {
				    has_game_rule = regional_cultures
				}
				every_vassal_or_below = {
					limit = {
						OR = {
						    primary_title = title:k_hellas
						    primary_title = {
								OR = {
									de_jure_liege = title:k_hellas
									de_jure_liege.de_jure_liege = title:k_hellas
								}
							}
						}
					}
					trigger_event = roman_culture_character.1
				}
			}
			else = {
				every_vassal_or_below = {
					limit = {
						OR = {
						    primary_title = title:k_hellas
						    primary_title = {
								OR = {
									de_jure_liege = title:k_hellas
									de_jure_liege.de_jure_liege = title:k_hellas
								}
							}
						}
					}
					trigger_event = roman_culture_character.2
				}
			}
		}
	}
}
