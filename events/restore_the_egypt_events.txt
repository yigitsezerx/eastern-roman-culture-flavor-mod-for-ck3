namespace = restore_the_egypt_event

restore_the_egypt_event.01 = {
	type = character_event
	title = restore_the_egypt_event.01.t
	desc = restore_the_egypt_event.01.desc
	theme = emperor
	override_background = { reference = ep3_hippodrome_track }
	left_portrait = {
		character = root
		animation = scepter
		camera = camera_event_horse_left
	}

	immediate = {
		play_sound_effect = "event:/DLC/EP3/SFX/Stingers/Byzantine_Flavor/ep3_mx_sting_byzantineflavor_hold_triumph"
	}

	option = {
		name = restore_the_egypt_event.01.a

		title:k_egypt = {
			set_title_name = "k_aegyptus"
			set_title_adjective = "k_aegyptus_adj"
		}
		custom_tooltip = { # re-assimilating cultures back into roman or roman divergents by Kitsune (Kaiser)
			text = romanization_tt 
       	    if = {
		    	limit = {
					has_game_rule = regional_cultures
				}
				title:k_egypt = {
					every_de_jure_county = {
						random = {
							chance = 5
							modifier = {
								add = 10
								development_level >= 4
							}
							modifier = {
								add = 15
								development_level >= 5
							}
							modifier = {
								add = 15
								development_level >= 6
							}
							set_county_culture = culture:egypto_roman
						}
					}
				}
			}
			else = {
				title:k_egypt = {
					every_de_jure_county = {
						random = {
							chance = 5
							modifier = {
								add = 10
								development_level >= 4
							}
							modifier = {
								add = 15
								development_level >= 5
							}
							modifier = {
								add = 15
								development_level >= 6
							}
							set_county_culture = culture:eastern_roman
						}
					}
				}
			}
		}
		culture:egypto_roman = {
			reset_culture_creation_date = yes
			get_all_innovations_from = culture:eastern_roman
		}
		hidden_effect = {
			if = {
				limit = {
				    has_game_rule = regional_cultures
				}
				every_vassal_or_below = {
					limit = {
						OR = {
						    primary_title = title:k_egypt
						    primary_title = {
								OR = {
									de_jure_liege = title:k_egypt
									de_jure_liege.de_jure_liege = title:k_egypt
								}
							}
						}
					}
					trigger_event = roman_culture_character.1
				}
			}
			else = {
				every_vassal_or_below = {
					limit = {
						OR = {
						    primary_title = title:k_egypt
						    primary_title = {
								OR = {
									de_jure_liege = title:k_egypt
									de_jure_liege.de_jure_liege = title:k_egypt
								}
							}
						}
					}
					trigger_event = roman_culture_character.2
				}
			}
		}
	}
}
